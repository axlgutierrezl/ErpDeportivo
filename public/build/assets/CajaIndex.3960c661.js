import{h as C,g as y,aO as T,s as w,c as D,w as s,z as E,o as u,b as t,q as N,k as g,a,f as b,l as B,t as i,F as L,u as r}from"./app.50683a97.js";import{T as A}from"./TenantLayout.4c67b316.js";import{_ as F}from"./DialogFormModal.e18ee1c1.js";import{V as I,a as $,b as z}from"./VNavigationDrawer.8088819a.js";import{V as c,g as S,a as M,b as G}from"./index.4549214f.js";import{V as U}from"./VTable.b15a6983.js";import{V as q}from"./VTextField.65545f13.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./VForm.9f532f63.js";import"./VDialog.52eddf4b.js";const O=a("thead",{class:"text-uppercase bg-thead-primary"},[a("tr",null,[a("th",null,"Nombre"),a("th",null,"Fecha creaci\xF3n"),a("th",null,"estado"),a("th",null,"Acciones")])],-1),R={key:1},H=a("td",{colspan:"4",class:"text-center"},[a("strong",null,"No hay registros")],-1),J=[H],se={__name:"CajaIndex",props:["flash","cajas"],setup(k){const m=k,n=C(!1),e=y({id:0,nombre:""}),h=T(),f=C([]);function p(d,o={}){switch(d){case"ADD":{n.value=!0;break}case"EDIT":{n.value=!0,e.id=o.id,e.nombre=o.nombre;break}}}function v(){let d=e.id==0?route("tenant.caja.store"):route("tenant.caja.update"),o=e.id==0?"post":"put";e[o](d,{onSuccess:()=>{m.flash.success&&(n.value=!1,V(),h.success(m.flash.success),_())},onError:()=>{e.errors&&e.errors.nombre&&h.error(e.errors.nombre)}})}function _(){E.Inertia.reload({only:["cajas"],onSuccess:()=>{f.value=m.cajas}})}function V(){e.id=0,e.nombre=""}return w(()=>{_()}),(d,o)=>(u(),D(A,{title:"Cajas",titleBread:"Listado de cajas"},{default:s(()=>[t(z,null,{default:s(()=>[t(I,null,{default:s(()=>[t(c,{class:"float-right",color:"teal-darken-2",onClick:o[0]||(o[0]=N(l=>p("ADD"),["prevent"]))},{default:s(()=>[t(S,{icon:"mdi:mdi-plus"}),g(" Agregar ")]),_:1})]),_:1}),t($,null,{default:s(()=>[t(U,{density:"comfortable"},{default:s(()=>[O,a("tbody",null,[f.value.length>0?(u(!0),b(L,{key:0},B(f.value,(l,j)=>(u(),b("tr",{key:j},[a("td",null,i(l.nombre),1),a("td",null,i(l.fechaCreacion),1),a("td",null,i(l.estado),1),a("td",null,[t(c,{onClick:x=>p("EDIT",l),icon:"mdi:mdi-pencil",color:"success",size:"x-small",class:"mr-1"},null,8,["onClick"]),t(c,{onClick:x=>p("DELETE",l),icon:"mdi:mdi-delete",color:"red",size:"x-small",class:"ml-1"},null,8,["onClick"])])]))),128)):(u(),b("tr",R,J))])]),_:1})]),_:1})]),_:1}),t(F,{show:n.value,"onUpdate:show":o[2]||(o[2]=l=>n.value=l),onSubmitted:v,onClose:V,processing:r(e).processing},{title:s(()=>[a("h3",null,i(r(e).id==0?"Nueva caja":"Editar caja"),1)]),content:s(()=>[t(M,null,{default:s(()=>[t(G,{cols:"12",md:"12"},{default:s(()=>[t(q,{label:"Nombre",variant:"outlined",modelValue:r(e).nombre,"onUpdate:modelValue":o[1]||(o[1]=l=>r(e).nombre=l)},null,8,["modelValue"])]),_:1})]),_:1})]),actions:s(()=>[t(c,{type:"submit",disabled:r(e).processing},{default:s(()=>[g(i(r(e).id==0?"Guardar":"Actualizar"),1)]),_:1},8,["disabled"])]),_:1},8,["show","processing"])]),_:1}))}};export{se as default};
