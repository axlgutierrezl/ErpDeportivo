import{o as m,c as v,w as o,f as h,F as b,l as _,b as i,a0 as w,h as f,p as k,x as B,P as j,s as A,az as P,u as $,H as T,q as V,a as c,r as x,k as U,z as I,aA as N,aB as L}from"./app.50683a97.js";import{_ as y}from"./_plugin-vue_export-helper.cdc0426e.js";import{c as p,d as E,e as g,f as q,g as z,h as D,i as O,j as H,b as F,a as G,k as R,l as J,m as K,_ as Q,t as W}from"./VNavigationDrawer.8088819a.js";import{V as S,g as C,c as X,d as Y}from"./index.4549214f.js";const Z={name:"SidebarTenant",data(){return{dataMenu:[{id:1,title:"Panel de control",to:"welcome",icon:"mdi:mdi-table",slug:"panelcontrol",subMenu:[],route:"tenant.dashboard",active:!1,newSubMenu:[]},{id:2,title:"Alquiler campo",to:"alquiler-campo",icon:"mdi:mdi-cash",slug:"alquiler.campo",subMenu:[{id:1,title:"Campos",to:"campos",icon:"mdi:mdi-rhombus-medium-outline",route:"tenant.campos.index"}],route:"tenant.alquilercampo",active:!1,newSubMenu:[]},{id:3,title:"Cajas",to:"cajas",icon:"mdi:mdi-archive",slug:"caja",subMenu:[{id:2,title:"Cajas",to:"caja",icon:"mdi:mdi-rhombus-medium-outline",route:"tenant.caja.index"},{id:3,title:"Apertura y Cierre",to:"movimientos",icon:"mdi:mdi-rhombus-medium-outline",route:"tenant.caja.movimientos.index"},{id:4,title:"Egreso",to:"egresos",icon:"mdi:mdi-rhombus-medium-outline",route:"tenant.caja.egreso.index"}],active:!0,newSubMenu:[]},{id:4,title:"Compras",to:"compras",icon:"mdi:mdi-cart",slug:"compras",subMenu:[{id:5,title:"Proveedores",to:"proveedores",icon:"mdi:mdi-rhombus-medium-outline",route:"tenant.compras.proveedores"},{id:6,title:"Orden compras",to:"ordenes",icon:"mdi:mdi-rhombus-medium-outline",route:"tenant.compras.ordenes"},{id:7,title:"Documento de compra",to:"documentos",icon:"mdi:mdi-rhombus-medium-outline",route:"tenant.compras.documentos"}],active:!1,newSubMenu:[]},{id:5,title:"Ventas",to:"ventas",icon:"mdi:mdi-blur-linear",slug:"ventas",subMenu:[{id:8,title:"Clientes",to:"clientes",icon:"mdi:mdi-rhombus-medium-outline",route:"tenant.ventas.clientes.index"},{id:9,title:"Cotizaciones",to:"cotizacion",icon:"mdi:mdi-rhombus-medium-outline",route:"tenant.ventas.cotizaciones.index"},{id:10,title:"Doc. venta",to:"documentos",icon:"mdi:mdi-rhombus-medium-outline",route:"tenant.ventas.documentos.index"},{id:11,title:"Guia de remisi\xF3n",to:"guia-remision",icon:"mdi:mdi-rhombus-medium-outline",route:"tenant.ventas.guiaremision.index"}],active:!1,newSubMenu:[]},{id:6,title:"Almac\xE9n",to:"almacen",icon:"mdi:mdi-store",slug:"almacen",subMenu:[{id:12,title:"Almacenes",to:"almacenes",icon:"mdi:mdi-rhombus-medium-outline",route:"tenant.almacen.almacenes.index"},{id:13,title:"Categorias",to:"categorias",icon:"mdi:mdi-rhombus-medium-outline",route:"tenant.almacen.categorias.index"},{id:14,title:"Marcas",to:"marcas",icon:"mdi:mdi-rhombus-medium-outline",route:"tenant.almacen.marcas.index"},{id:15,title:"Productos",to:"productos",icon:"mdi:mdi-rhombus-medium-outline",route:"tenant.almacen.productos.index"},{id:16,title:"Servicios",to:"servicios",icon:"mdi:mdi-rhombus-medium-outline",route:"tenant.almacen.servicios.index"},{id:17,title:"Nota de ingreso",to:"nota-ingreso",icon:"mdi:mdi-rhombus-medium-outline",route:"tenant.almacen.notaingreso.index"},{id:18,title:"Nota de salida",to:"nota-salida",icon:"mdi:mdi-rhombus-medium-outline",route:"tenant.almacen.notasalida.index"}],active:!1,newSubMenu:[]},{id:7,title:"Configuraci\xF3n",to:"configuracion",icon:"mdi:mdi-cash-multiple",slug:"configuracion",subMenu:[{id:19,title:"Campos",to:"campos",icon:"mdi:mdi-rhombus-medium-outline",route:"tenant.configuracion.campos.index"},{id:20,title:"Horarios de trabajo",to:"horarios",icon:"mdi:mdi-rhombus-medium-outline",route:"tenant.configuracion.horariotrabajos.index"},{id:21,title:"Empresa",to:"empresa",icon:"mdi:mdi-rhombus-medium-outline",route:"tenant.configuracion.empresa.index"}],active:!1,newSubMenu:[]},{id:8,title:"Seguridad",to:"seguridad",icon:"mdi:mdi-key",slug:"seguridad",subMenu:[{id:22,title:"Usuarios",to:"usuarios",icon:"mdi:mdi-rhombus-medium-outline",route:"tenant.seguridad.usuarios.index"},{id:23,title:"Roles",to:"roles",icon:"mdi:mdi-rhombus-medium-outline",route:"tenant.seguridad.roles.index"}],active:!1,newSubMenu:[]},{id:9,title:"Tienda",to:"tienda",icon:"mdi:mdi-table",subMenu:[],route:"tenant.tienda",active:!1,newSubMenu:[]}],menu:[],modules:[],openMenu:[]}},created(){const t=location.pathname.split("/");if(this.modules=this.$page.props.modules[0].modules,this.loadingModules(),t.length>2){const u=t[1],a=this.menu.find(s=>s.to==u);if(a){let s=1e3;this.openMenu.push(a.title+"-"+(s+a.id))}}},methods:{VisitPage(t){try{this.route(t)!=location.href&&this.$inertia.visit(this.route(t))}catch(u){console.log(u)}},OpenSubMenu(t){this.openMenu.find(a=>a==t)?this.openMenu=[t]:this.openMenu=[]},isActiveSubMenu(t){if(route().current(t.route))return!0;{const a=location.pathname.split("/"),s=this.menu.find(l=>l.to==a[1]);if(s){const l=s.newSubMenu.find(r=>r.to==a[2]);if(l)return t.to==l.to}}},loadingModules(){this.dataMenu.forEach(t=>{this.modules.find(a=>a.id==t.id)&&this.menu.push(t)}),this.menu.forEach(t=>{t.subMenu.forEach(u=>{let a=this.modules.find(s=>s.id===t.id);a&&a.levels.find(l=>l.id==u.id)&&t.newSubMenu.push(u)})})}},mounted(){}};function ee(t,u,a,s,l,r){return m(),v(g,{nav:"",opened:l.openMenu,"onUpdate:opened":u[0]||(u[0]=e=>l.openMenu=e),class:"sidebar-menu"},{default:o(()=>[(m(!0),h(b,null,_(l.menu,(e,d)=>(m(),h(b,null,[e.newSubMenu.length==0?(m(),v(p,{key:d,value:e+(d+1e3+e.id),"prepend-icon":e.icon,title:e.title,modelValue:e.active,"onUpdate:modelValue":n=>e.active=n,active:t.route().current(e.route),onClick:n=>r.VisitPage(e.route)},null,8,["value","prepend-icon","title","modelValue","onUpdate:modelValue","active","onClick"])):(m(),v(E,{modelValue:e.active,"onUpdate:modelValue":n=>e.active=n,key:Number(e.id),value:e.title+"-"+(e.id+1e3),title:e.title,onClick:n=>r.OpenSubMenu(e.title+"-"+(e.id+1e3))},{activator:o(({props:n})=>[i(p,w(n,{"prepend-icon":e.icon,title:e.title,class:"rounded-lg"}),null,16,["prepend-icon","title"])]),default:o(()=>[(m(!0),h(b,null,_(e.newSubMenu,(n,M)=>(m(),v(p,{key:M,value:n.title+(M+1e3+d),title:n.title,onClick:ue=>r.VisitPage(n.route),active:r.isActiveSubMenu(n),"prepend-icon":r.isActiveSubMenu(n)?"mdi:mdi-rhombus-medium":n.icon,exact:""},null,8,["value","title","onClick","active","prepend-icon"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","value","title","onClick"]))],64))),256))]),_:1},8,["opened"])}const te=y(Z,[["render",ee]]);const ie=t=>(N("data-v-aa7f2827"),t=t(),L(),t),ne=ie(()=>c("div",{class:"pa-4 pl-1"},[c("div",{class:"logo"},[c("a",{href:"/",class:"router-link-active d-flex"},[c("img",{src:"https://adminpro-vuetify-dark.netlify.app/assets/white-logo-icon.6bfee9b1.svg"}),c("img",{src:"https://adminpro-vuetify-dark.netlify.app/assets/white-logo-text.7766c51f.svg",class:"pl-3"})])])],-1)),ae=["src"],oe={__name:"TenantLayout",props:{title:String,titleBread:String},setup(t){const u=f(!1),a=f(!1),s=f(!0),l=f(!0);k(a,e=>{s.value=l.value?!0:a.value});const r=()=>{I.Inertia.post(route("logout"))};return B(()=>{u.value=!0,console.log("onUnmounted",u.value)}),j(()=>{console.log("onBeforeMount",u.value)}),A(()=>{let{mobile:e}=P();l.value=!e.value,s.value=l.value?!0:a.value}),(e,d)=>(m(),h(b,null,[i($(T),{title:t.title},null,8,["title"]),i(Y,null,{default:o(()=>[i(q,{elevation:"0",class:"px-4"},{default:o(()=>[ne,i(z,{icon:"mdi:mdi-menu",variant:"text",onClick:d[0]||(d[0]=V(n=>a.value=!a.value,["stop"]))}),i(D),i(O,{rounded:""},{activator:o(({props:n})=>[i(S,w({flat:"",variant:"text",elevation:"0",icon:""},n),{default:o(()=>[i(H,null,{default:o(()=>[c("img",{src:e.$page.props.user.profile_photo_url},null,8,ae)]),_:2},1024)]),_:2},1040)]),default:o(()=>[i(F,{width:"200"},{default:o(()=>[i(G,null,{default:o(()=>[i(g,{density:"compact"},{default:o(()=>[i(p,{title:"Perfil",value:"perfil"},{prepend:o(()=>[i(C,{icon:"mdi:mdi-account",class:"mr-2"})]),_:1}),i(p,{title:"Salir",value:"salir",onClick:V(r,["prevent"])},{prepend:o(()=>[i(C,{icon:"mdi:mdi-logout",class:"mr-2"})]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),i(R,{permanent:l.value,modelValue:s.value,"onUpdate:modelValue":d[1]||(d[1]=n=>s.value=n),rail:l.value?a.value:!1,"expand-on-hover":""},{default:o(()=>[i(g,null,{default:o(()=>[i(p,{"prepend-avatar":e.$page.props.user.profile_photo_url,title:e.$page.props.user.name,subtitle:e.$page.props.user.email},null,8,["prepend-avatar","title","subtitle"])]),_:1}),i(J),i(te)]),_:1},8,["permanent","modelValue","rail"]),i(K,null,{default:o(()=>[i(X,{fluid:"",class:"fill-height",style:{position:"relative"}},{default:o(()=>[i(Q,{title:t.titleBread},{breadcrumb:o(()=>[x(e.$slots,"itemBreadCrumb",{},void 0,!0)]),_:3},8,["title"]),x(e.$slots,"default",{},void 0,!0),i(W,{modelValue:u.value,"onUpdate:modelValue":d[3]||(d[3]=n=>u.value=n),contained:"",class:"align-center justify-center"},{default:o(()=>[i(S,{color:"success",onClick:d[2]||(d[2]=n=>u.value=!1)},{default:o(()=>[U(" Hide Overlay ")]),_:1})]),_:1},8,["modelValue"])]),_:3})]),_:3})]),_:3})],64))}},me=y(oe,[["__scopeId","data-v-aa7f2827"]]);export{me as T};
