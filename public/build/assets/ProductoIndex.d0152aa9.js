import{aO as S,h as m,p as h,s as B,c as T,w as s,z as b,o as p,b as a,q as L,k as N,a as e,f as v,l as $,t as r,F as w}from"./app.50683a97.js";import{T as E}from"./TenantLayout.4c67b316.js";import{C as M}from"./CardView.5dc7dcb1.js";import{_ as P}from"./Pagination.d3bb47b6.js";import{V as A}from"./VBreadcrumbs.c34b1911.js";import{a as I,b as _,V as g,g as U}from"./index.4549214f.js";import{V as z}from"./VSelect.1e68f7fa.js";import{V as F}from"./VTextField.65545f13.js";import{V as D}from"./VTable.b15a6983.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./VNavigationDrawer.8088819a.js";import"./VCheckboxBtn.fafb4134.js";import"./VChip.0d8836c3.js";const R=e("thead",{class:"text-uppercase bg-thead-primary text-center"},[e("tr",null,[e("th",null,"Nombre"),e("th",null,"Almacen"),e("th",null,"Codigo"),e("th",null,"UM"),e("th",null,"S/ Venta"),e("th",null,"S/ Compra"),e("th",null,"Stock"),e("th",null,"Stock Min."),e("th",null,"Acciones")])],-1),q={class:"text-center"},O={class:"text-center"},j={class:"text-center"},G={class:"text-center"},H={class:"text-center"},J={class:"text-center"},K={key:1},Q=e("td",{colspan:"9",class:"text-center"},[e("strong",null,"No hay registros")],-1),W=[Q],de={__name:"ProductoIndex",props:["flash","productos","filters"],setup(V){const o=V,k=S(),u=m([]),n=m(1),c=m(10),d=m(null);function x(){b.Inertia.reload({only:["productos"],preserveState:!0,onSuccess:()=>{u.value=o.productos.data,o.filters.tamanio&&(c.value=Number(o.filters.tamanio)),o.filters.search&&(d.value=o.filters.search),o.filters.page&&(n.value=Number(o.filters.page)),o.flash.success&&k.success(o.flash.success),o.flash.error&&k.error(o.flash.error)},onError:()=>{console.log("errors")}})}h(n,i=>{f()}),h(d,i=>{n.value=1,setTimeout(()=>{f()},500)}),h(c,()=>{n.value=1,f()});function f(){b.Inertia.get(route("tenant.almacen.productos.index"),{page:n.value,search:d.value,tamanio:c.value},{only:["productos"],preserveState:!0,replace:!0,onSuccess:()=>{u.value=o.productos.data}})}return B(()=>{x()}),(i,l)=>(p(),T(E,{title:"Productos",titleBread:"Listado de productos"},{itemBreadCrumb:s(()=>[a(A,{items:["Almacen","Productos","Lista"],class:"pa-0"})]),default:s(()=>[a(M,null,{title:s(()=>[a(I,{class:"pt-3"},{default:s(()=>[a(_,{cols:"12",md:"1"},{default:s(()=>[a(z,{modelValue:c.value,"onUpdate:modelValue":l[0]||(l[0]=t=>c.value=t),"hide-details":"",label:"Registros",class:"text-center",items:[5,10,15,25,50,100],density:"compact",variant:"outlined"},null,8,["modelValue"])]),_:1}),a(_,{cols:"12",md:"3"},{default:s(()=>[a(F,{modelValue:d.value,"onUpdate:modelValue":l[1]||(l[1]=t=>d.value=t),"hide-details":"",variant:"outlined",density:"compact",label:"Buscar","append-inner-icon":"mdi:mdi-magnify"},null,8,["modelValue"])]),_:1}),a(_,{cols:"12",md:"8"},{default:s(()=>[a(g,{class:"float-right",color:"teal-darken-2",onClick:l[2]||(l[2]=L(t=>i.$inertia.visit(i.route("tenant.almacen.productos.create")),["prevent"]))},{default:s(()=>[a(U,{icon:"mdi:mdi-plus"}),N(" Agregar ")]),_:1})]),_:1})]),_:1})]),content:s(()=>[a(D,{density:"comfortable",hover:""},{default:s(()=>[R,e("tbody",null,[u.value.length>0?(p(!0),v(w,{key:0},$(u.value,(t,y)=>(p(),v("tr",{key:y},[e("td",null,r(t.nombre),1),e("td",null,r(t._almacen),1),e("td",null,r(t.codigo_barra),1),e("td",q,r(t.unidad_medida),1),e("td",O,r(t.precio_venta),1),e("td",j,r(t.precio_compra),1),e("td",G,r(t.stock),1),e("td",H,r(t.stock_minimo),1),e("td",J,[a(g,{onClick:C=>i.$inertia.visit(i.route("tenant.almacen.productos.edit",{id:t.id})),icon:"mdi:mdi-pencil",color:"success",size:"x-small",class:"mr-1"},null,8,["onClick"]),a(g,{onClick:C=>i.abrirModal("DELETE",t),icon:"mdi:mdi-delete",color:"red",size:"x-small",class:"ml-1"},null,8,["onClick"])])]))),128)):(p(),v("tr",K,W))])]),_:1}),a(P,{paginate:V.productos,page:n.value,"onUpdate:page":l[3]||(l[3]=t=>n.value=t)},null,8,["paginate","page"])]),_:1})]),_:1}))}};export{de as default};
