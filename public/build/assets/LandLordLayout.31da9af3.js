import{o as d,c as v,w as s,f as h,F as m,l as V,b as a,a0 as x,h as _,p as L,s as C,az as w,u as P,H as B,q as M,a as p,r as k,z as A,aA as I,aB as $}from"./app.50683a97.js";import{_ as y}from"./_plugin-vue_export-helper.cdc0426e.js";import{c as f,d as N,e as g,f as U,g as E,h as D,i as O,j as z,b as F,a as H,k as j,l as q,m as G,_ as T}from"./VNavigationDrawer.8088819a.js";import{V as J,g as S,c as K,d as Q}from"./index.4549214f.js";const R={data(){return{dataMenu:[{id:1,title:"Panel de control",to:"dashboard",icon:"mdi:mdi-table",subMenu:[],route:"landlord.welcome",active:!1,newSubMenu:[]},{id:2,title:"Clientes",to:"cliente",icon:"mdi:mdi-cash",subMenu:[],route:"landlord.cliente.index",active:!1,newSubMenu:[]}],menu:[],openMenu:[],permisos:[]}},created(){const e=location.pathname.split("/");if(e.length>2){const n=e[1],l=this.dataMenu.find(r=>r.to==n);if(l){let r=1e3;this.openMenu.push(l.title+"-"+(r+l.id))}}},methods:{isActive(e){if(route().current(e.route))return!0;{const l=location.pathname.split("/");return e.to==l[1]}},OpenSubMenu(e){console.log("sss",e),this.openMenu.find(l=>l==e)?this.openMenu=[e]:this.openMenu=[]},isActiveSubMenu(e){if(route().current(e.route))return!0;{const l=location.pathname.split("/"),r=this.dataMenu.find(o=>o.to==l[1]);if(r){const o=r.subMenu.find(i=>i.to==l[2]);if(o)return e.to==o.to}}},VisitPage(e){try{this.route(e)!=location.href&&this.$inertia.visit(this.route(e))}catch(n){console.log(n)}},LoadingMenuPermisos(){this.dataMenu.forEach(e=>{e.subMenu.length==0?this.permisos.find(l=>l==e.route)&&this.menu.push(e):this.permisos.find(l=>l.indexOf(e.slug)!=-1)&&this.menu.push(e)}),this.menu.forEach(e=>{e.subMenu.forEach((n,l)=>{this.permisos.find(o=>o===n.route)&&e.newSubMenu.push(n)})})}}};function W(e,n,l,r,o,i){return d(),v(g,{nav:"",opened:o.openMenu,"onUpdate:opened":n[0]||(n[0]=t=>o.openMenu=t),class:"sidebar-menu"},{default:s(()=>[(d(!0),h(m,null,V(o.dataMenu,(t,c)=>(d(),h(m,null,[t.subMenu.length==0?(d(),v(f,{key:Number(t.id),"prepend-icon":t.icon,title:t.title,onClick:u=>i.VisitPage(t.route),modelValue:t.active,"onUpdate:modelValue":u=>t.active=u,active:i.isActive(t),value:t+(c+1e3+t.id),class:"rounded-lg"},null,8,["prepend-icon","title","onClick","modelValue","onUpdate:modelValue","active","value"])):(d(),v(N,{modelValue:t.active,"onUpdate:modelValue":u=>t.active=u,key:Number(t.id),value:t.title+"-"+(t.id+1e3),title:t.title,onClick:u=>i.OpenSubMenu(t.title+"-"+(t.id+1e3))},{activator:s(({props:u})=>[a(f,x(u,{"prepend-icon":t.icon,title:t.title,class:"rounded-lg"}),null,16,["prepend-icon","title"])]),default:s(()=>[(d(!0),h(m,null,V(t.subMenu,(u,b)=>(d(),v(f,{key:b,value:u.title+(b+1e3+c),title:u.title,class:"mr-3 rounded-pill",onClick:ae=>i.VisitPage(u.route),active:i.isActiveSubMenu(u),"prepend-icon":i.isActiveSubMenu(u)?"mdi:mdi-checkbox-blank-circle":u.icon,exact:""},null,8,["value","title","onClick","active","prepend-icon"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","value","title","onClick"]))],64))),256))]),_:1},8,["opened"])}const X=y(R,[["render",W]]);const Y=e=>(I("data-v-bddcd5ae"),e=e(),$(),e),Z=Y(()=>p("div",{class:"pa-4 pl-1"},[p("div",{class:"logo"},[p("a",{href:"/",class:"router-link-active d-flex"},[p("img",{src:"https://adminpro-vuetify-dark.netlify.app/assets/white-logo-icon.6bfee9b1.svg"}),p("img",{src:"https://adminpro-vuetify-dark.netlify.app/assets/white-logo-text.7766c51f.svg",class:"pl-3"})])])],-1)),ee=["src"],te={__name:"LandLordLayout",props:{title:String,titleBread:String},setup(e){const n=_(!1),l=_(!0),r=_(!0);L(n,i=>{l.value=r.value?!0:n.value});const o=()=>{A.Inertia.post(route("logout"))};return C(()=>{let{mobile:i}=w();r.value=!i.value,l.value=r.value?!0:n.value}),(i,t)=>(d(),h(m,null,[a(P(B),{title:e.title},null,8,["title"]),a(Q,null,{default:s(()=>[a(U,{elevation:"0",class:"px-4"},{default:s(()=>[Z,a(E,{icon:"mdi:mdi-menu",variant:"text",onClick:t[0]||(t[0]=M(c=>n.value=!n.value,["stop"]))}),a(D),a(O,{rounded:""},{activator:s(({props:c})=>[a(J,x({flat:"",variant:"text",elevation:"0",icon:""},c),{default:s(()=>[a(z,null,{default:s(()=>[p("img",{src:i.$page.props.user.profile_photo_url},null,8,ee)]),_:2},1024)]),_:2},1040)]),default:s(()=>[a(F,{width:"200"},{default:s(()=>[a(H,null,{default:s(()=>[a(g,{density:"compact"},{default:s(()=>[a(f,{title:"Perfil",value:"perfil"},{prepend:s(()=>[a(S,{icon:"mdi:mdi-account",class:"mr-2"})]),_:1}),a(f,{title:"Salir",value:"salir",onClick:M(o,["prevent"])},{prepend:s(()=>[a(S,{icon:"mdi:mdi-logout",class:"mr-2"})]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(j,{permanent:r.value,modelValue:l.value,"onUpdate:modelValue":t[1]||(t[1]=c=>l.value=c),rail:r.value?n.value:!1,"expand-on-hover":""},{default:s(()=>[a(g,null,{default:s(()=>[a(f,{"prepend-avatar":i.$page.props.user.profile_photo_url,title:i.$page.props.user.name,subtitle:i.$page.props.user.email},null,8,["prepend-avatar","title","subtitle"])]),_:1}),a(q),a(X)]),_:1},8,["permanent","modelValue","rail"]),a(G,null,{default:s(()=>[a(K,{fluid:""},{default:s(()=>[a(T,{title:e.titleBread},{breadcrumb:s(()=>[k(i.$slots,"itemBreadCrumb",{},void 0,!0)]),_:3},8,["title"]),k(i.$slots,"default",{},void 0,!0)]),_:3})]),_:3})]),_:3})],64))}},re=y(te,[["__scopeId","data-v-bddcd5ae"]]);export{re as L};
